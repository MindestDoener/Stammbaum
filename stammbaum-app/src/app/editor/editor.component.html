<div *ngIf="!stammbaum">
  <form class="form-row" [formGroup]="createStammbaumForm" (ngSubmit)="onCreateStammbaum()">
    <label class="m-1">
      Tree Name:
      <input class="form-control" formControlName="treeName" placeholder="Untitled Tree" type="text" required>
    </label>
    <button class="btn btn-dark m-1" type="submit" [disabled]="createStammbaumForm.status == 'INVALID'">Create</button>
  </form>
  <hr>
</div>
<div *ngIf="stammbaum">
  <div class="d-flex flex-row align-items-center bg-dark text-white">
    <div class="pl-2">
      <svg class="bi" width="32" height="32" fill="currentColor">
        <use xlink:href="assets/img/bootstrap-icons.svg#diagram-2"/>
      </svg>
    </div>
    <div class="pb-1 tree-name-heading">
      Tree: {{stammbaum.name}}
    </div>
  </div>
  <form class="form-row" [formGroup]="addPersonForm" (ngSubmit)="onAddPerson()">
    <label class="m-1">
      First Name:
      <input class="form-control" formControlName="firstName" placeholder="First Name" type="text" required>
    </label>
    <label class="m-1">
      Last Name:
      <input class="form-control" formControlName="lastName" placeholder="Last Name" type="text" required>
    </label>
    <label class="m-1">
      Gender:
      <select class="form-control" formControlName="gender" required>
        <option value="" disabled selected>Choose Gender</option>
        <option *ngFor="let gender of genders; index as i" [ngValue]="i">{{gender}}</option>
      </select>
    </label>
    <label class="m-1">
      Birth Date:
      <input class="form-control" formControlName="birthDate" type="date" required>
    </label>
    <label class="m-1">
      Death Date:
      <input class="form-control" formControlName="deathDate" type="date"
             [min]="addPersonForm.controls.birthDate.value">
    </label>
    <button class="btn btn-dark m-1" type="submit" [disabled]="addPersonForm.status == 'INVALID'">Add</button>
  </form>
  <hr>
  <app-person-display class="m-1"
                      *ngFor="let person of stammbaum.persons"
                      [person]="person"
                      (openContextMenu)="onOpenContextMenu($event)"></app-person-display>
</div>
