<div class='container'>
  <h1 class='text-center my-4'>Meine Stammb<i class='bi bi-tree-fill text-gradient tree'></i>ume</h1>
  <hr>
  <button (click)="setMode('add');" *ngIf="mode === 'view' " class='btn btn-outline-dark my-3'>
    <i class='bi bi-plus'></i>
    <i class='bi bi-tree-fill'></i>
  </button>
  <button (click)="setMode('edit');" *ngIf="mode === 'view' " class='btn btn-outline-dark my-3 ms-2'>
    <i class='bi bi-pen-fill'></i>
  </button>
  <button (click)="setMode('view');" *ngIf="mode === 'add' || mode === 'edit' " class='btn btn-outline-dark my-2'>
    <i class='bi bi-x'></i>
  </button>
  <div ngbDropdown class="d-inline-block ms-2">
    <button class="btn btn-outline-dark" id="sortDropdown" ngbDropdownToggle><i class='bi bi-sort-down'></i></button>
    <div ngbDropdownMenu aria-labelledby="sortDropdown">
      <button ngbDropdownItem (click)='setSortMode(0)'>Zuletzt Ge√§ndert <i *ngIf='sortMode === 0' class='bi bi-check'></i></button>
      <button ngbDropdownItem (click)='setSortMode(1)'>Alphabetisch <i *ngIf='sortMode === 1' class='bi bi-check'></i></button>
      <button ngbDropdownItem (click)='setSortMode(2)'>Anzahl Personen <i *ngIf='sortMode === 2' class='bi bi-check'></i></button>
    </div>
  </div>
  <div *ngIf="mode === 'add'" class='card item'>
    <div class='d-flex p-2 card-body'>
      <div class='item-title'>
        <h4 class='border-right pr-4 title'><i class='bi bi-tree-fill'></i>
        </h4>
      </div>
      <div class='border-left px-4'>
        <form (ngSubmit)='onCreateFamilyTree()' [formGroup]='createFamilyTreeForm' class='form-row'>
          <label class='m-1'>
            Stammbaum Name:
            <input class='form-control' formControlName='treeName' placeholder='Untitled Tree' required type='text'>
          </label>
          <button [disabled]="createFamilyTreeForm.status == 'INVALID'" class='btn btn-dark m-1' type='submit'>
            Erstellen
          </button>
        </form>
      </div>
    </div>
  </div>
  <div *ngFor='let tree of treeList'>
    <div [ngClass]="{'disabled': mode !== 'view'}" (click)='openTree(tree.id)' class='list-group-item-action'>
      <app-tree-list-item [mode]='mode' [familyTree]='tree' (delete)='deleteTree($event)'>
      </app-tree-list-item>
    </div>
  </div>
</div>
